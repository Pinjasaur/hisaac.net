<!DOCTYPE html>
<html lang="en-us">





<head>

	<title>

		Solo Project Day Five: Enter the Database

	</title>
	<meta name="apple-mobile-web-app-title" content="
	
		Solo Project Day Five: Enter the Database
	
" />
	<meta id="description" name="description" content="
	
		The personal weblog of Isaac Halvorson
	
" />


	<meta name="twitter:card" content="summary" />
	<meta name="twitter:title" content="
	
		Solo Project Day Five: Enter the Database
	
" />
	<meta name="twitter:description" content="
	
		The personal weblog of Isaac Halvorson
	
" />
	<meta name="twitter:site" content="@hisaac" />


	<link rel="stylesheet" href="/css/main.css" />




	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
	<header>
		<h1><a href="/" alt="hisaac.blog">hisaac.blog</a></h1>

		<nav>
			<a href="https://hisaac.net">about</a> •
			<a href="/canon.html">canon</a> •
			<a href="/artifacts.html">artifacts</a> •
			<a href="/now.html">now</a>
		</nav>
	</header>




	<article>
		<h1>Solo Project Day Five: Enter the Database</h1>


		<div class="post-meta">
			<p><time datetime="2016-12-09 23:13:30 -0600 CST">Friday, Dec 9, 2016</time></p>

		</div>


		<section class="content">


			<p>Today&rsquo;s goal was simply to move the data I was receiving from Twitter via Firebase, into my database. While this seemed simple in concept, as someone new to programming, it was difficult in practice.</p>

			<p>I&rsquo;m using Angular for my project, and I have a controller that calls to Firebase for the user&rsquo;s authentication. The data is returned to the controller, and then put in a factory for temporary storage, and for use between controllers.</p>

			<p>The same controller then makes an AJAX POST request to the server, which is then routed to the database using Mongoose. I also had to fuss a lot with my schema in Mongoose, which took up a good deal of my time.</p>

			<p>Thankfully, a classmate of mine was able to offer some help. I&rsquo;m also using Mongoose sub-documents in my project, and I could not for the life of me figure out how to import the sub-document modules into my main schema module.</p>

			<p>Here is the correct way to do it:</p>
			<div class="highlight">
				<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">mongoose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;mongoose&#39;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Schema</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">mongoose</span>.<span style="color:#a6e22e">Schema</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">User</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../models/user.model&#39;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Draft</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../models/draft.model&#39;</span>).<span style="color:#a6e22e">schema</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Post</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../models/post.model&#39;</span>).<span style="color:#a6e22e">schema</span>;</code></pre>
			</div>
			<p>My issue was the <code>.schema</code> at the end of the sub-document require statements. I wasn&rsquo;t using the <code>.schema</code> initially, so it wasn&rsquo;t working at all.</p>

			<h3 id="today-s-research">Today&rsquo;s Research</h3>

			<ul>
				<li><a href="https://expressjs.com/en/guide/routing.html">Routing - Express Documentation</a></li>
				<li><a href="http://stackoverflow.com/questions/27227650/difference-between-app-use-and-router-use-in-express">Difference Between <code>app.use()</code> and <code>router.use()</code> in Express - Stack Overflow</a></li>
				<li><a href="http://mongoosejs.com/docs/subdocs.html">Sub-Documents - Mongoose Documentation</a></li>
				<li><a href="http://stackoverflow.com/questions/5646798/mongodb-updating-subdocument">MongoDB: Updating Subdocument - Stack Overflow</a> - Another handy piece of information that Alex showed me today, the use of the <code>$</code> positional operator
					when referring to Mongoose sub-documents.</li>
				<li><a href="https://dev.twitter.com/rest/reference/get/users/lookup">GET users/lookup - Twitter Developer Documentation</a></li>
			</ul>

		</section>
	</article>



	<footer>
		<p>
			<small>&copy; <span id="yearRange"></span>, <a href="https://hisaac.net">Isaac Halvorson</a></small>
		</p>
		<p>
			<small>
			<a href="mailto:hello@hisaac.net" alt="hello@hisaac.net">email</a> •
			<a href="https://twitter.com/hisaac" alt="@hisaac on Twitter">twitter</a> •
			<a href="https://github.com/hisaac/">github</a> •
			<a href="https://hisaac.blog/index.xml" alt="The Solo Project Day Five: Enter the Database RSS feed">rss</a>
		</small>
		</p>
	</footer>

</body>

<script type="text/javascript">
	document.getElementById("yearRange").innerHTML = "2008–" + new Date().getFullYear();

</script>

</html>
